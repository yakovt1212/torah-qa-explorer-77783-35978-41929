# 📱 מדריך בחירת תצוגה (Viewport Selector)

## סקירה כללית

מאפיין בחירת התצוגה מאפשר למשתמשים לבחור איך האתר יוצג:
- **זיהוי אוטומטי** (ברירת מחדל) - האתר מזהה אוטומטית את גודל המסך
- **מחשב שולחני** - תצוגה מלאה למסכים גדולים
- **טאבלט** - תצוגה אופטימלית לטאבלטים
- **נייד** - תצוגה ממוקדת למכשירים ניידים

## איך להשתמש

### מיקום הכפתור

הכפתור נמצא בפינה הימנית העליונה של האתר, ליד כפתור ההגדרות וכפתור התפריט:

```
[⚙️ הגדרות] [🖥️ תצוגה] [☰ תפריט]
```

### אייקונים

- **🖥️ + נקודה** - זיהוי אוטומטי (הנקודה מסמנת אוטומטי)
- **🖥️ מוניטור** - מחשב שולחני
- **📱 טאבלט** - טאבלט
- **📱 סמארטפון** - נייד

### בחירת מצב

1. לחץ על הכפתור
2. תיפתח תפריט נפתח
3. בחר את המצב הרצוי:
   - ✅ המצב הנוכחי מסומן
   - כל בחירה משפיעה מיד על התצוגה

## תכונות טכניות

### שמירת העדפות

ההעדפה שלך נשמרת ב-localStorage:
- **מפתח**: `viewport_mode_preference`
- **ערכים אפשריים**: `auto`, `desktop`, `tablet`, `mobile`
- הבחירה נשמרת בין ביקורים

### איך זה עובד?

1. **מצב אוטומטי** (ברירת מחדל):
   ```javascript
   // הקוד בודק את רוחב המסך:
   - רוחב < 768px → נייד
   - רוחב < 1024px → טאבלט  
   - רוחב ≥ 1024px → שולחני
   ```

2. **מצב כפוי** (Desktop/Tablet/Mobile):
   ```javascript
   // הקוד מוסיף class ל-HTML:
   document.documentElement.classList.add('force-desktop')
   // או 'force-tablet', 'force-mobile'
   
   // ומגדיר משתנה CSS:
   document.documentElement.style.setProperty('--viewport-mode', 'desktop')
   ```

3. **עדכון Hooks**:
   - הקוד שולח אירוע `resize` כדי שכל ה-hooks יתעדכנו
   - `useIsMobile()` בודק אם יש מצב כפוי לפני הזיהוי האוטומטי

### CSS Classes שנוצרות

```css
/* כשבוחרים מצב נייד */
html.force-mobile {
  --mobile-override: 1;
}

/* כשבוחרים מצב טאבלט */
html.force-tablet {
  --tablet-override: 1;
}

/* כשבוחרים מצב שולחני */
html.force-desktop {
  --desktop-override: 1;
}
```

### התאמות Container

```css
/* Container מתאים עצמו לפי המצב */
html.force-mobile .container {
  max-width: 100% !important;
  padding: 1rem !important;
}

html.force-tablet .container {
  max-width: 768px !important;
}

html.force-desktop .container {
  max-width: 1280px !important;
}
```

## דוגמאות שימוש

### בדיקת אתר במכשירים שונים

אתה יכול לבדוק איך האתר נראה במכשירים שונים **מבלי לפתוח DevTools**:

1. בחר **נייד** לראות תצוגת מובייל
2. בחר **טאבלט** לראות תצוגת טאבלט
3. בחר **שולחני** לראות תצוגה מלאה
4. חזור ל**זיהוי אוטומטי** כשסיימת

### פתרון בעיות תצוגה

אם משהו לא נראה טוב במכשיר מסוים:

1. פתח את האתר במחשב
2. בחר את סוג המכשיר (נייד/טאבלט)
3. בדוק מה הבעיה
4. דווח למפתחים עם צילום מסך

### גישה למסכים קטנים

משתמשים עם מסכים גדולים יכולים לבחור **מצב נייד** כדי:
- לקבל תצוגה יותר ממוקדת
- לראות פחות מידע בבת אחת
- לשפר קריאות בגדלים קטנים

## API למפתחים

### Hook: useIsMobile()

```typescript
import { useIsMobile } from "@/hooks/use-mobile";

function MyComponent() {
  const isMobile = useIsMobile();
  
  // isMobile יהיה true אם:
  // 1. המסך קטן מ-768px (במצב אוטומטי)
  // 2. המשתמש בחר מצב "נייד"
  
  return (
    <div>
      {isMobile ? <MobileView /> : <DesktopView />}
    </div>
  );
}
```

### Hook: useViewportSize()

```typescript
import { useViewportSize } from "@/hooks/use-mobile";

function MyComponent() {
  const viewport = useViewportSize();
  // viewport = 'mobile' | 'tablet' | 'desktop'
  
  return (
    <div>
      {viewport === 'mobile' && <MobileView />}
      {viewport === 'tablet' && <TabletView />}
      {viewport === 'desktop' && <DesktopView />}
    </div>
  );
}
```

### קריאה ישירה למצב

```typescript
// בדיקה אם יש מצב כפוי
const forcedMode = document.documentElement.style.getPropertyValue('--viewport-mode');

if (forcedMode === 'mobile') {
  console.log('המשתמש בחר תצוגת נייד');
}

// בדיקה אם יש class
if (document.documentElement.classList.contains('force-tablet')) {
  console.log('תצוגת טאבלט כפויה');
}
```

## טיפים ושיטות עבודה מומלצות

### 1. השאר במצב אוטומטי

רוב המשתמשים צריכים להשאיר את המצב על **זיהוי אוטומטי**. האתר אופטימלי לכך.

### 2. בדיקת רספונסיביות

מפתחים יכולים להשתמש בכלי זה במקום DevTools:
- יותר מהיר
- תצוגה נקייה יותר
- אפשר לשתף קישורים עם מצב ספציפי

### 3. הדרכת משתמשים

אם משתמש מתלונן על תצוגה:
1. בקש ממנו לבדוק מה המצב הנבחר
2. המלץ לנסות **זיהוי אוטומטי**
3. אם הבעיה נמשכת, בדוק את המכשיר שלו

### 4. נגישות

הכלי משפר נגישות:
- משתמשים עם צרכים מיוחדים יכולים לבחור תצוגה גדולה יותר
- משתמשים עם מסכים ענקיים יכולים להגביל רוחב
- שליטה ידנית על חווית המשתמש

## פתרון בעיות נפוצות

### הכפתור לא משנה את התצוגה

1. רענן את הדף (F5)
2. נקה cache (Ctrl+Shift+R)
3. בדוק בקונסולה אם יש שגיאות

### התצוגה חוזרת לאוטומטי

- ההעדפה נשמרת ב-localStorage
- אם ניקית cookies/cache, ההעדפה תימחק
- בחר שוב את המצב הרצוי

### הכפתור לא מופיע

הכפתור נמצא רק בכותרת העליונה. אם לא רואה אותו:
1. גלול למעלה
2. בדוק שהדף נטען במלואו
3. נסה לרענן את הדף

## יתרונות המאפיין

✅ **זיהוי אוטומטי חכם** - עובד מעצמו ברוב המקרים  
✅ **שליטה מלאה** - אפשר לכפות מצב ספציפי  
✅ **שמירת העדפות** - הבחירה נשמרת בין ביקורים  
✅ **תצוגה מיידית** - השינוי מתבצע מיד ללא רענון  
✅ **UI אינטואיטיבי** - אייקונים ברורים ותיאורים בעברית  
✅ **נגישות משופרת** - מתאים לכל סוגי המשתמשים  

---

**נוצר בתאריך:** אוקטובר 2025  
**גרסה:** 1.0.0  
**קובץ רכיב:** `src/components/ViewportSelector.tsx`
